/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/market-data/scan/route";
exports.ids = ["app/api/market-data/scan/route"];
exports.modules = {

/***/ "(rsc)/./app/api/market-data/scan/route.ts":
/*!*******************************************!*\
  !*** ./app/api/market-data/scan/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_market_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/market-data */ \"(rsc)/./lib/market-data.ts\");\n/* harmony import */ var _lib_gemini__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/gemini */ \"(rsc)/./lib/gemini.ts\");\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/redis */ \"(rsc)/./lib/redis.ts\");\n\n\n\n\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const { symbols } = body;\n        if (!symbols || !Array.isArray(symbols)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Ungültige Symbole'\n            }, {\n                status: 400\n            });\n        }\n        // 1. Marktdaten für alle Symbole abrufen\n        const marketData = await Promise.all(symbols.map(async (symbol)=>{\n            try {\n                const data = await (0,_lib_market_data__WEBPACK_IMPORTED_MODULE_1__.fetchMarketData)(symbol);\n                return {\n                    symbol,\n                    data,\n                    error: null\n                };\n            } catch (error) {\n                console.error(`Fehler beim Abrufen der Marktdaten für ${symbol}:`, error);\n                return {\n                    symbol,\n                    data: null,\n                    error: `Marktdaten nicht verfügbar für ${symbol}`\n                };\n            }\n        }));\n        // Filtern der erfolgreichen Marktdaten-Abrufe\n        const validMarketData = marketData.filter((item)=>!item.error);\n        // 2. Setup-Analyse für jedes Symbol durchführen\n        const setups = await Promise.all(validMarketData.map(async ({ symbol, data })=>{\n            try {\n                const analysis = await (0,_lib_gemini__WEBPACK_IMPORTED_MODULE_2__.analyzeSetup)(symbol, data);\n                return analysis ? {\n                    ...analysis,\n                    timestamp: new Date().toISOString()\n                } : null;\n            } catch (error) {\n                console.error(`Analyse-Fehler für ${symbol}:`, error);\n                return null;\n            }\n        }));\n        // 3. Nur valide Setups mit gutem R/R filtern\n        const validSetups = setups.filter((setup)=>setup && setup.riskRewardRatio >= 2 && setup.probability > 0.6);\n        // 4. Setups in Redis speichern\n        const redis = (0,_lib_redis__WEBPACK_IMPORTED_MODULE_3__.getRedisClient)();\n        await Promise.all(validSetups.map(async (setup)=>{\n            if (!setup) return;\n            const setupKey = `setups:${setup.symbol}:${Date.now()}`;\n            try {\n                await (0,_lib_redis__WEBPACK_IMPORTED_MODULE_3__.redisSet)(setupKey, JSON.stringify(setup));\n                // TTL von 24 Stunden setzen\n                await redis.expire(setupKey, 24 * 60 * 60);\n            } catch (error) {\n                console.error(`Redis Speicherfehler für ${setup.symbol}:`, error);\n            }\n        }));\n        // 5. Fehlermeldungen sammeln\n        const errors = marketData.filter((item)=>item.error).map((item)=>({\n                symbol: item.symbol,\n                error: item.error\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            setups: validSetups,\n            errors: errors.length > 0 ? errors : undefined,\n            scannedSymbols: symbols.length,\n            validSetups: validSetups.length\n        });\n    } catch (error) {\n        console.error('Scan Error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Fehler beim Scannen der Setups'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztZQUN2QmdCLFFBQVFLO1lBQ1JVLFFBQVFBLE9BQU9DLE1BQU0sR0FBRyxJQUFJRCxTQUFTRTtZQUNyQ0MsZ0JBQWdCakMsUUFBUStCLE1BQU07WUFDOUJYLGFBQWFBLFlBQVlXLE1BQU07UUFDakM7SUFFRixFQUFFLE9BQU81QixPQUFPO1FBQ2RRLFFBQVFSLEtBQUssQ0FBQyxlQUFlQTtRQUM3QixPQUFPWixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUFFSSxPQUFPO1FBQWlDLEdBQzFDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvc3RlZmZlbmdvdHRsZS9EZXNrdG9wL25leHRsZXZlbHRyYWRlcnMvYXBwL2FwaS9tYXJrZXQtZGF0YS9zY2FuL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBmZXRjaE1hcmtldERhdGEgfSBmcm9tICdAL2xpYi9tYXJrZXQtZGF0YSc7XG5pbXBvcnQgeyBhbmFseXplU2V0dXAgfSBmcm9tICdAL2xpYi9nZW1pbmknO1xuaW1wb3J0IHsgZ2V0UmVkaXNDbGllbnQsIHJlZGlzU2V0IH0gZnJvbSAnQC9saWIvcmVkaXMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgY29uc3QgeyBzeW1ib2xzIH0gPSBib2R5O1xuXG4gICAgaWYgKCFzeW1ib2xzIHx8ICFBcnJheS5pc0FycmF5KHN5bWJvbHMpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdVbmfDvGx0aWdlIFN5bWJvbGUnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyAxLiBNYXJrdGRhdGVuIGbDvHIgYWxsZSBTeW1ib2xlIGFicnVmZW5cbiAgICBjb25zdCBtYXJrZXREYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBzeW1ib2xzLm1hcChhc3luYyAoc3ltYm9sKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoTWFya2V0RGF0YShzeW1ib2wpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzeW1ib2wsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZlaGxlciBiZWltIEFicnVmZW4gZGVyIE1hcmt0ZGF0ZW4gZsO8ciAke3N5bWJvbH06YCwgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzeW1ib2wsXG4gICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IGBNYXJrdGRhdGVuIG5pY2h0IHZlcmbDvGdiYXIgZsO8ciAke3N5bWJvbH1gXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gRmlsdGVybiBkZXIgZXJmb2xncmVpY2hlbiBNYXJrdGRhdGVuLUFicnVmZVxuICAgIGNvbnN0IHZhbGlkTWFya2V0RGF0YSA9IG1hcmtldERhdGEuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uZXJyb3IpO1xuXG4gICAgLy8gMi4gU2V0dXAtQW5hbHlzZSBmw7xyIGplZGVzIFN5bWJvbCBkdXJjaGbDvGhyZW5cbiAgICBjb25zdCBzZXR1cHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHZhbGlkTWFya2V0RGF0YS5tYXAoYXN5bmMgKHsgc3ltYm9sLCBkYXRhIH0pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGFuYWx5emVTZXR1cChzeW1ib2wsIGRhdGEpO1xuICAgICAgICAgIHJldHVybiBhbmFseXNpcyA/IHsgXG4gICAgICAgICAgICAuLi5hbmFseXNpcyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSA6IG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgQW5hbHlzZS1GZWhsZXIgZsO8ciAke3N5bWJvbH06YCwgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyAzLiBOdXIgdmFsaWRlIFNldHVwcyBtaXQgZ3V0ZW0gUi9SIGZpbHRlcm5cbiAgICBjb25zdCB2YWxpZFNldHVwcyA9IHNldHVwcy5maWx0ZXIoc2V0dXAgPT4gXG4gICAgICBzZXR1cCAmJiBzZXR1cC5yaXNrUmV3YXJkUmF0aW8gPj0gMiAmJiBzZXR1cC5wcm9iYWJpbGl0eSA+IDAuNlxuICAgICk7XG5cbiAgICAvLyA0LiBTZXR1cHMgaW4gUmVkaXMgc3BlaWNoZXJuXG4gICAgY29uc3QgcmVkaXMgPSBnZXRSZWRpc0NsaWVudCgpO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgdmFsaWRTZXR1cHMubWFwKGFzeW5jIChzZXR1cCkgPT4ge1xuICAgICAgICBpZiAoIXNldHVwKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzZXR1cEtleSA9IGBzZXR1cHM6JHtzZXR1cC5zeW1ib2x9OiR7RGF0ZS5ub3coKX1gO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHJlZGlzU2V0KHNldHVwS2V5LCBKU09OLnN0cmluZ2lmeShzZXR1cCkpO1xuICAgICAgICAgIC8vIFRUTCB2b24gMjQgU3R1bmRlbiBzZXR6ZW5cbiAgICAgICAgICBhd2FpdCByZWRpcy5leHBpcmUoc2V0dXBLZXksIDI0ICogNjAgKiA2MCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgUmVkaXMgU3BlaWNoZXJmZWhsZXIgZsO8ciAke3NldHVwLnN5bWJvbH06YCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyA1LiBGZWhsZXJtZWxkdW5nZW4gc2FtbWVsblxuICAgIGNvbnN0IGVycm9ycyA9IG1hcmtldERhdGFcbiAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLmVycm9yKVxuICAgICAgLm1hcChpdGVtID0+ICh7XG4gICAgICAgIHN5bWJvbDogaXRlbS5zeW1ib2wsXG4gICAgICAgIGVycm9yOiBpdGVtLmVycm9yXG4gICAgICB9KSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc2V0dXBzOiB2YWxpZFNldHVwcyxcbiAgICAgIGVycm9yczogZXJyb3JzLmxlbmd0aCA+IDAgPyBlcnJvcnMgOiB1bmRlZmluZWQsXG4gICAgICBzY2FubmVkU3ltYm9sczogc3ltYm9scy5sZW5ndGgsXG4gICAgICB2YWxpZFNldHVwczogdmFsaWRTZXR1cHMubGVuZ3RoXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTY2FuIEVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmVobGVyIGJlaW0gU2Nhbm5lbiBkZXIgU2V0dXBzJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImZldGNoTWFya2V0RGF0YSIsImFuYWx5emVTZXR1cCIsImdldFJlZGlzQ2xpZW50IiwicmVkaXNTZXQiLCJQT1NUIiwicmVxIiwiYm9keSIsImpzb24iLCJzeW1ib2xzIiwiQXJyYXkiLCJpc0FycmF5IiwiZXJyb3IiLCJzdGF0dXMiLCJtYXJrZXREYXRhIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsInN5bWJvbCIsImRhdGEiLCJjb25zb2xlIiwidmFsaWRNYXJrZXREYXRhIiwiZmlsdGVyIiwiaXRlbSIsInNldHVwcyIsImFuYWx5c2lzIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidmFsaWRTZXR1cHMiLCJzZXR1cCIsInJpc2tSZXdhcmRSYXRpbyIsInByb2JhYmlsaXR5IiwicmVkaXMiLCJzZXR1cEtleSIsIm5vdyIsIkpTT04iLCJzdHJpbmdpZnkiLCJleHBpcmUiLCJlcnJvcnMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJzY2FubmVkU3ltYm9scyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/market-data/scan/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/gemini.ts":
/*!***********************!*\
  !*** ./lib/gemini.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeSetup: () => (/* binding */ analyzeSetup)\n/* harmony export */ });\n/* harmony import */ var _market_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./market-data */ \"(rsc)/./lib/market-data.ts\");\n\nasync function analyzeSetup(symbol, marketData) {\n    try {\n        const { daily, hourly, current } = marketData;\n        // Standard Pivots für verschiedene Zeitrahmen berechnen\n        const dailyPivots = (0,_market_data__WEBPACK_IMPORTED_MODULE_0__.calculateStandardPivots)(daily[daily.length - 2]); // Gestern\n        const weeklyPivots = (0,_market_data__WEBPACK_IMPORTED_MODULE_0__.calculateStandardPivots)({\n            high: Math.max(...daily.slice(-5).map((d)=>d.high)),\n            low: Math.min(...daily.slice(-5).map((d)=>d.low)),\n            close: daily[daily.length - 1].close\n        });\n        // DeMark Pivots berechnen\n        const deMarkPivots = (0,_market_data__WEBPACK_IMPORTED_MODULE_0__.calculateDeMarkPivots)(daily[daily.length - 2]);\n        // Aktueller Kurs\n        const currentPrice = current.close;\n        // Long Setup prüfen\n        if (currentPrice > deMarkPivots.dmR1 && currentPrice > weeklyPivots.r1) {\n            const stopLoss = Math.min(dailyPivots.s1, deMarkPivots.dmS1);\n            const target = weeklyPivots.r2;\n            const risk = currentPrice - stopLoss;\n            const reward = target - currentPrice;\n            const riskRewardRatio = reward / risk;\n            if (riskRewardRatio >= 2) {\n                return {\n                    symbol,\n                    type: 'LONG',\n                    entryPrice: currentPrice,\n                    stopLoss,\n                    target,\n                    riskRewardRatio,\n                    probability: 0.7,\n                    reason: 'Ausbruch über DM R1 mit Weekly R1 Bestätigung'\n                };\n            }\n        }\n        // Short Setup prüfen\n        if (currentPrice < deMarkPivots.dmS1 && currentPrice < weeklyPivots.s1) {\n            const stopLoss = Math.max(dailyPivots.r1, deMarkPivots.dmR1);\n            const target = weeklyPivots.s2;\n            const risk = stopLoss - currentPrice;\n            const reward = currentPrice - target;\n            const riskRewardRatio = reward / risk;\n            if (riskRewardRatio >= 2) {\n                return {\n                    symbol,\n                    type: 'SHORT',\n                    entryPrice: currentPrice,\n                    stopLoss,\n                    target,\n                    riskRewardRatio,\n                    probability: 0.7,\n                    reason: 'Ausbruch unter DM S1 mit Weekly S1 Bestätigung'\n                };\n            }\n        }\n        return null; // Kein valides Setup gefunden\n    } catch (error) {\n        console.error(`Fehler bei der Setup-Analyse für ${symbol}:`, error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZ2VtaW5pLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStFO0FBY3hFLGVBQWVFLGFBQWFDLE1BQWMsRUFBRUMsVUFBZTtJQUNoRSxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdIO1FBRW5DLHdEQUF3RDtRQUN4RCxNQUFNSSxjQUFjUixxRUFBdUJBLENBQUNLLEtBQUssQ0FBQ0EsTUFBTUksTUFBTSxHQUFHLEVBQUUsR0FBRyxVQUFVO1FBQ2hGLE1BQU1DLGVBQWVWLHFFQUF1QkEsQ0FBQztZQUMzQ1csTUFBTUMsS0FBS0MsR0FBRyxJQUFJUixNQUFNUyxLQUFLLENBQUMsQ0FBQyxHQUFHQyxHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUVMLElBQUk7WUFDakRNLEtBQUtMLEtBQUtNLEdBQUcsSUFBSWIsTUFBTVMsS0FBSyxDQUFDLENBQUMsR0FBR0MsR0FBRyxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxHQUFHO1lBQy9DRSxPQUFPZCxLQUFLLENBQUNBLE1BQU1JLE1BQU0sR0FBRyxFQUFFLENBQUNVLEtBQUs7UUFDdEM7UUFFQSwwQkFBMEI7UUFDMUIsTUFBTUMsZUFBZW5CLG1FQUFxQkEsQ0FBQ0ksS0FBSyxDQUFDQSxNQUFNSSxNQUFNLEdBQUcsRUFBRTtRQUVsRSxpQkFBaUI7UUFDakIsTUFBTVksZUFBZWQsUUFBUVksS0FBSztRQUVsQyxvQkFBb0I7UUFDcEIsSUFBSUUsZUFBZUQsYUFBYUUsSUFBSSxJQUFJRCxlQUFlWCxhQUFhYSxFQUFFLEVBQUU7WUFDdEUsTUFBTUMsV0FBV1osS0FBS00sR0FBRyxDQUFDVixZQUFZaUIsRUFBRSxFQUFFTCxhQUFhTSxJQUFJO1lBQzNELE1BQU1DLFNBQVNqQixhQUFha0IsRUFBRTtZQUM5QixNQUFNQyxPQUFPUixlQUFlRztZQUM1QixNQUFNTSxTQUFTSCxTQUFTTjtZQUN4QixNQUFNVSxrQkFBa0JELFNBQVNEO1lBRWpDLElBQUlFLG1CQUFtQixHQUFHO2dCQUN4QixPQUFPO29CQUNMNUI7b0JBQ0E2QixNQUFNO29CQUNOQyxZQUFZWjtvQkFDWkc7b0JBQ0FHO29CQUNBSTtvQkFDQUcsYUFBYTtvQkFDYkMsUUFBUTtnQkFDVjtZQUNGO1FBQ0Y7UUFFQSxxQkFBcUI7UUFDckIsSUFBSWQsZUFBZUQsYUFBYU0sSUFBSSxJQUFJTCxlQUFlWCxhQUFhZSxFQUFFLEVBQUU7WUFDdEUsTUFBTUQsV0FBV1osS0FBS0MsR0FBRyxDQUFDTCxZQUFZZSxFQUFFLEVBQUVILGFBQWFFLElBQUk7WUFDM0QsTUFBTUssU0FBU2pCLGFBQWEwQixFQUFFO1lBQzlCLE1BQU1QLE9BQU9MLFdBQVdIO1lBQ3hCLE1BQU1TLFNBQVNULGVBQWVNO1lBQzlCLE1BQU1JLGtCQUFrQkQsU0FBU0Q7WUFFakMsSUFBSUUsbUJBQW1CLEdBQUc7Z0JBQ3hCLE9BQU87b0JBQ0w1QjtvQkFDQTZCLE1BQU07b0JBQ05DLFlBQVlaO29CQUNaRztvQkFDQUc7b0JBQ0FJO29CQUNBRyxhQUFhO29CQUNiQyxRQUFRO2dCQUNWO1lBQ0Y7UUFDRjtRQUVBLE9BQU8sTUFBTSw4QkFBOEI7SUFFN0MsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLGlDQUFpQyxFQUFFbEMsT0FBTyxDQUFDLENBQUMsRUFBRWtDO1FBQzdELE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvc3RlZmZlbmdvdHRsZS9EZXNrdG9wL25leHRsZXZlbHRyYWRlcnMvbGliL2dlbWluaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVTdGFuZGFyZFBpdm90cywgY2FsY3VsYXRlRGVNYXJrUGl2b3RzIH0gZnJvbSAnLi9tYXJrZXQtZGF0YSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2V0dXAge1xuICBzeW1ib2w6IHN0cmluZztcbiAgdHlwZTogJ0xPTkcnIHwgJ1NIT1JUJztcbiAgZW50cnlQcmljZTogbnVtYmVyO1xuICBzdG9wTG9zczogbnVtYmVyO1xuICB0YXJnZXQ6IG51bWJlcjtcbiAgcmlza1Jld2FyZFJhdGlvOiBudW1iZXI7XG4gIHByb2JhYmlsaXR5OiBudW1iZXI7XG4gIHJlYXNvbjogc3RyaW5nO1xuICB0aW1lc3RhbXA/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbmFseXplU2V0dXAoc3ltYm9sOiBzdHJpbmcsIG1hcmtldERhdGE6IGFueSk6IFByb21pc2U8U2V0dXAgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYWlseSwgaG91cmx5LCBjdXJyZW50IH0gPSBtYXJrZXREYXRhO1xuXG4gICAgLy8gU3RhbmRhcmQgUGl2b3RzIGbDvHIgdmVyc2NoaWVkZW5lIFplaXRyYWhtZW4gYmVyZWNobmVuXG4gICAgY29uc3QgZGFpbHlQaXZvdHMgPSBjYWxjdWxhdGVTdGFuZGFyZFBpdm90cyhkYWlseVtkYWlseS5sZW5ndGggLSAyXSk7IC8vIEdlc3Rlcm5cbiAgICBjb25zdCB3ZWVrbHlQaXZvdHMgPSBjYWxjdWxhdGVTdGFuZGFyZFBpdm90cyh7XG4gICAgICBoaWdoOiBNYXRoLm1heCguLi5kYWlseS5zbGljZSgtNSkubWFwKGQgPT4gZC5oaWdoKSksXG4gICAgICBsb3c6IE1hdGgubWluKC4uLmRhaWx5LnNsaWNlKC01KS5tYXAoZCA9PiBkLmxvdykpLFxuICAgICAgY2xvc2U6IGRhaWx5W2RhaWx5Lmxlbmd0aCAtIDFdLmNsb3NlXG4gICAgfSk7XG5cbiAgICAvLyBEZU1hcmsgUGl2b3RzIGJlcmVjaG5lblxuICAgIGNvbnN0IGRlTWFya1Bpdm90cyA9IGNhbGN1bGF0ZURlTWFya1Bpdm90cyhkYWlseVtkYWlseS5sZW5ndGggLSAyXSk7XG5cbiAgICAvLyBBa3R1ZWxsZXIgS3Vyc1xuICAgIGNvbnN0IGN1cnJlbnRQcmljZSA9IGN1cnJlbnQuY2xvc2U7XG5cbiAgICAvLyBMb25nIFNldHVwIHByw7xmZW5cbiAgICBpZiAoY3VycmVudFByaWNlID4gZGVNYXJrUGl2b3RzLmRtUjEgJiYgY3VycmVudFByaWNlID4gd2Vla2x5UGl2b3RzLnIxKSB7XG4gICAgICBjb25zdCBzdG9wTG9zcyA9IE1hdGgubWluKGRhaWx5UGl2b3RzLnMxLCBkZU1hcmtQaXZvdHMuZG1TMSk7XG4gICAgICBjb25zdCB0YXJnZXQgPSB3ZWVrbHlQaXZvdHMucjI7XG4gICAgICBjb25zdCByaXNrID0gY3VycmVudFByaWNlIC0gc3RvcExvc3M7XG4gICAgICBjb25zdCByZXdhcmQgPSB0YXJnZXQgLSBjdXJyZW50UHJpY2U7XG4gICAgICBjb25zdCByaXNrUmV3YXJkUmF0aW8gPSByZXdhcmQgLyByaXNrO1xuXG4gICAgICBpZiAocmlza1Jld2FyZFJhdGlvID49IDIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzeW1ib2wsXG4gICAgICAgICAgdHlwZTogJ0xPTkcnLFxuICAgICAgICAgIGVudHJ5UHJpY2U6IGN1cnJlbnRQcmljZSxcbiAgICAgICAgICBzdG9wTG9zcyxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgcmlza1Jld2FyZFJhdGlvLFxuICAgICAgICAgIHByb2JhYmlsaXR5OiAwLjcsIC8vIEJhc2llcmVuZCBhdWYgTXVsdGktVGltZWZyYW1lIEJlc3TDpHRpZ3VuZ1xuICAgICAgICAgIHJlYXNvbjogJ0F1c2JydWNoIMO8YmVyIERNIFIxIG1pdCBXZWVrbHkgUjEgQmVzdMOkdGlndW5nJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNob3J0IFNldHVwIHByw7xmZW5cbiAgICBpZiAoY3VycmVudFByaWNlIDwgZGVNYXJrUGl2b3RzLmRtUzEgJiYgY3VycmVudFByaWNlIDwgd2Vla2x5UGl2b3RzLnMxKSB7XG4gICAgICBjb25zdCBzdG9wTG9zcyA9IE1hdGgubWF4KGRhaWx5UGl2b3RzLnIxLCBkZU1hcmtQaXZvdHMuZG1SMSk7XG4gICAgICBjb25zdCB0YXJnZXQgPSB3ZWVrbHlQaXZvdHMuczI7XG4gICAgICBjb25zdCByaXNrID0gc3RvcExvc3MgLSBjdXJyZW50UHJpY2U7XG4gICAgICBjb25zdCByZXdhcmQgPSBjdXJyZW50UHJpY2UgLSB0YXJnZXQ7XG4gICAgICBjb25zdCByaXNrUmV3YXJkUmF0aW8gPSByZXdhcmQgLyByaXNrO1xuXG4gICAgICBpZiAocmlza1Jld2FyZFJhdGlvID49IDIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzeW1ib2wsXG4gICAgICAgICAgdHlwZTogJ1NIT1JUJyxcbiAgICAgICAgICBlbnRyeVByaWNlOiBjdXJyZW50UHJpY2UsXG4gICAgICAgICAgc3RvcExvc3MsXG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHJpc2tSZXdhcmRSYXRpbyxcbiAgICAgICAgICBwcm9iYWJpbGl0eTogMC43LFxuICAgICAgICAgIHJlYXNvbjogJ0F1c2JydWNoIHVudGVyIERNIFMxIG1pdCBXZWVrbHkgUzEgQmVzdMOkdGlndW5nJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsOyAvLyBLZWluIHZhbGlkZXMgU2V0dXAgZ2VmdW5kZW5cblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEZlaGxlciBiZWkgZGVyIFNldHVwLUFuYWx5c2UgZsO8ciAke3N5bWJvbH06YCwgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59Il0sIm5hbWVzIjpbImNhbGN1bGF0ZVN0YW5kYXJkUGl2b3RzIiwiY2FsY3VsYXRlRGVNYXJrUGl2b3RzIiwiYW5hbHl6ZVNldHVwIiwic3ltYm9sIiwibWFya2V0RGF0YSIsImRhaWx5IiwiaG91cmx5IiwiY3VycmVudCIsImRhaWx5UGl2b3RzIiwibGVuZ3RoIiwid2Vla2x5UGl2b3RzIiwiaGlnaCIsIk1hdGgiLCJtYXgiLCJzbGljZSIsIm1hcCIsImQiLCJsb3ciLCJtaW4iLCJjbG9zZSIsImRlTWFya1Bpdm90cyIsImN1cnJlbnRQcmljZSIsImRtUjEiLCJyMSIsInN0b3BMb3NzIiwiczEiLCJkbVMxIiwidGFyZ2V0IiwicjIiLCJyaXNrIiwicmV3YXJkIiwicmlza1Jld2FyZFJhdGlvIiwidHlwZSIsImVudHJ5UHJpY2UiLCJwcm9iYWJpbGl0eSIsInJlYXNvbiIsInMyIiwiZXJyb3IiLCJjb25zb2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/gemini.ts\n");

/***/ }),

/***/ "(rsc)/./lib/market-data.ts":
/*!****************************!*\
  !*** ./lib/market-data.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDeMarkPivots: () => (/* binding */ calculateDeMarkPivots),\n/* harmony export */   calculateStandardPivots: () => (/* binding */ calculateStandardPivots),\n/* harmony export */   fetchMarketData: () => (/* binding */ fetchMarketData)\n/* harmony export */ });\n/* harmony import */ var yahoo_finance2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! yahoo-finance2 */ \"(rsc)/./node_modules/yahoo-finance2/dist/esm/src/index-node.js\");\n\nasync function fetchMarketData(symbol) {\n    try {\n        // Tageskerzen der letzten 30 Tage abrufen\n        const dailyData = await yahoo_finance2__WEBPACK_IMPORTED_MODULE_0__[\"default\"].historical(symbol, {\n            period1: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n            period2: new Date(),\n            interval: '1d'\n        });\n        // Stunden-Kerzen des aktuellen Tages\n        const hourlyData = await yahoo_finance2__WEBPACK_IMPORTED_MODULE_0__[\"default\"].historical(symbol, {\n            period1: new Date(Date.now() - 24 * 60 * 60 * 1000),\n            period2: new Date(),\n            interval: '60m'\n        });\n        return {\n            daily: dailyData,\n            hourly: hourlyData,\n            current: hourlyData[hourlyData.length - 1]\n        };\n    } catch (error) {\n        console.error(`Fehler beim Abrufen der Marktdaten für ${symbol}:`, error);\n        throw error;\n    }\n}\n// Berechnet Standard Pivot Points\nfunction calculateStandardPivots(data) {\n    const high = data.high;\n    const low = data.low;\n    const close = data.close;\n    const pivot = (high + low + close) / 3;\n    const r1 = 2 * pivot - low;\n    const s1 = 2 * pivot - high;\n    const r2 = pivot + (high - low);\n    const s2 = pivot - (high - low);\n    return {\n        pivot,\n        r1,\n        s1,\n        r2,\n        s2\n    };\n}\n// Berechnet DeMark Pivot Points\nfunction calculateDeMarkPivots(data) {\n    const high = data.high;\n    const low = data.low;\n    const close = data.close;\n    const open = data.open;\n    let x;\n    if (close < open) {\n        x = (high + 2 * low + close) / 4;\n    } else {\n        x = (2 * high + low + close) / 4;\n    }\n    const dmR1 = x + (high - low);\n    const dmS1 = x - (high - low);\n    return {\n        x,\n        dmR1,\n        dmS1\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbWFya2V0LWRhdGEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQztBQUVuQyxlQUFlQyxnQkFBZ0JDLE1BQWM7SUFDbEQsSUFBSTtRQUNGLDBDQUEwQztRQUMxQyxNQUFNQyxZQUFZLE1BQU1ILHNEQUFZQSxDQUFDSSxVQUFVLENBQUNGLFFBQVE7WUFDdERHLFNBQVMsSUFBSUMsS0FBS0EsS0FBS0MsR0FBRyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7WUFDbkRDLFNBQVMsSUFBSUY7WUFDYkcsVUFBVTtRQUNaO1FBRUEscUNBQXFDO1FBQ3JDLE1BQU1DLGFBQWEsTUFBTVYsc0RBQVlBLENBQUNJLFVBQVUsQ0FBQ0YsUUFBUTtZQUN2REcsU0FBUyxJQUFJQyxLQUFLQSxLQUFLQyxHQUFHLEtBQUssS0FBSyxLQUFLLEtBQUs7WUFDOUNDLFNBQVMsSUFBSUY7WUFDYkcsVUFBVTtRQUNaO1FBRUEsT0FBTztZQUNMRSxPQUFPUjtZQUNQUyxRQUFRRjtZQUNSRyxTQUFTSCxVQUFVLENBQUNBLFdBQVdJLE1BQU0sR0FBRyxFQUFFO1FBQzVDO0lBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLHVDQUF1QyxFQUFFYixPQUFPLENBQUMsQ0FBQyxFQUFFYTtRQUNuRSxNQUFNQTtJQUNSO0FBQ0Y7QUFFQSxrQ0FBa0M7QUFDM0IsU0FBU0Usd0JBQXdCQyxJQUFTO0lBQy9DLE1BQU1DLE9BQU9ELEtBQUtDLElBQUk7SUFDdEIsTUFBTUMsTUFBTUYsS0FBS0UsR0FBRztJQUNwQixNQUFNQyxRQUFRSCxLQUFLRyxLQUFLO0lBRXhCLE1BQU1DLFFBQVEsQ0FBQ0gsT0FBT0MsTUFBTUMsS0FBSSxJQUFLO0lBQ3JDLE1BQU1FLEtBQUssSUFBS0QsUUFBU0Y7SUFDekIsTUFBTUksS0FBSyxJQUFLRixRQUFTSDtJQUN6QixNQUFNTSxLQUFLSCxRQUFTSCxDQUFBQSxPQUFPQyxHQUFFO0lBQzdCLE1BQU1NLEtBQUtKLFFBQVNILENBQUFBLE9BQU9DLEdBQUU7SUFFN0IsT0FBTztRQUFFRTtRQUFPQztRQUFJQztRQUFJQztRQUFJQztJQUFHO0FBQ2pDO0FBRUEsZ0NBQWdDO0FBQ3pCLFNBQVNDLHNCQUFzQlQsSUFBUztJQUM3QyxNQUFNQyxPQUFPRCxLQUFLQyxJQUFJO0lBQ3RCLE1BQU1DLE1BQU1GLEtBQUtFLEdBQUc7SUFDcEIsTUFBTUMsUUFBUUgsS0FBS0csS0FBSztJQUN4QixNQUFNTyxPQUFPVixLQUFLVSxJQUFJO0lBRXRCLElBQUlDO0lBQ0osSUFBSVIsUUFBUU8sTUFBTTtRQUNoQkMsSUFBSSxDQUFDVixPQUFRLElBQUlDLE1BQU9DLEtBQUksSUFBSztJQUNuQyxPQUFPO1FBQ0xRLElBQUksQ0FBQyxJQUFLVixPQUFRQyxNQUFNQyxLQUFJLElBQUs7SUFDbkM7SUFFQSxNQUFNUyxPQUFPRCxJQUFLVixDQUFBQSxPQUFPQyxHQUFFO0lBQzNCLE1BQU1XLE9BQU9GLElBQUtWLENBQUFBLE9BQU9DLEdBQUU7SUFFM0IsT0FBTztRQUFFUztRQUFHQztRQUFNQztJQUFLO0FBQ3pCIiwic291cmNlcyI6WyIvVXNlcnMvc3RlZmZlbmdvdHRsZS9EZXNrdG9wL25leHRsZXZlbHRyYWRlcnMvbGliL21hcmtldC1kYXRhLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB5YWhvb0ZpbmFuY2UgZnJvbSAneWFob28tZmluYW5jZTInO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hNYXJrZXREYXRhKHN5bWJvbDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgLy8gVGFnZXNrZXJ6ZW4gZGVyIGxldHp0ZW4gMzAgVGFnZSBhYnJ1ZmVuXG4gICAgY29uc3QgZGFpbHlEYXRhID0gYXdhaXQgeWFob29GaW5hbmNlLmhpc3RvcmljYWwoc3ltYm9sLCB7XG4gICAgICBwZXJpb2QxOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgIHBlcmlvZDI6IG5ldyBEYXRlKCksXG4gICAgICBpbnRlcnZhbDogJzFkJ1xuICAgIH0pO1xuXG4gICAgLy8gU3R1bmRlbi1LZXJ6ZW4gZGVzIGFrdHVlbGxlbiBUYWdlc1xuICAgIGNvbnN0IGhvdXJseURhdGEgPSBhd2FpdCB5YWhvb0ZpbmFuY2UuaGlzdG9yaWNhbChzeW1ib2wsIHtcbiAgICAgIHBlcmlvZDE6IG5ldyBEYXRlKERhdGUubm93KCkgLSAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgIHBlcmlvZDI6IG5ldyBEYXRlKCksXG4gICAgICBpbnRlcnZhbDogJzYwbSdcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBkYWlseTogZGFpbHlEYXRhLFxuICAgICAgaG91cmx5OiBob3VybHlEYXRhLFxuICAgICAgY3VycmVudDogaG91cmx5RGF0YVtob3VybHlEYXRhLmxlbmd0aCAtIDFdXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBGZWhsZXIgYmVpbSBBYnJ1ZmVuIGRlciBNYXJrdGRhdGVuIGbDvHIgJHtzeW1ib2x9OmAsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBCZXJlY2huZXQgU3RhbmRhcmQgUGl2b3QgUG9pbnRzXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU3RhbmRhcmRQaXZvdHMoZGF0YTogYW55KSB7XG4gIGNvbnN0IGhpZ2ggPSBkYXRhLmhpZ2g7XG4gIGNvbnN0IGxvdyA9IGRhdGEubG93O1xuICBjb25zdCBjbG9zZSA9IGRhdGEuY2xvc2U7XG5cbiAgY29uc3QgcGl2b3QgPSAoaGlnaCArIGxvdyArIGNsb3NlKSAvIDM7XG4gIGNvbnN0IHIxID0gKDIgKiBwaXZvdCkgLSBsb3c7XG4gIGNvbnN0IHMxID0gKDIgKiBwaXZvdCkgLSBoaWdoO1xuICBjb25zdCByMiA9IHBpdm90ICsgKGhpZ2ggLSBsb3cpO1xuICBjb25zdCBzMiA9IHBpdm90IC0gKGhpZ2ggLSBsb3cpO1xuXG4gIHJldHVybiB7IHBpdm90LCByMSwgczEsIHIyLCBzMiB9O1xufVxuXG4vLyBCZXJlY2huZXQgRGVNYXJrIFBpdm90IFBvaW50c1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZURlTWFya1Bpdm90cyhkYXRhOiBhbnkpIHtcbiAgY29uc3QgaGlnaCA9IGRhdGEuaGlnaDtcbiAgY29uc3QgbG93ID0gZGF0YS5sb3c7XG4gIGNvbnN0IGNsb3NlID0gZGF0YS5jbG9zZTtcbiAgY29uc3Qgb3BlbiA9IGRhdGEub3BlbjtcblxuICBsZXQgeDtcbiAgaWYgKGNsb3NlIDwgb3Blbikge1xuICAgIHggPSAoaGlnaCArICgyICogbG93KSArIGNsb3NlKSAvIDQ7XG4gIH0gZWxzZSB7XG4gICAgeCA9ICgoMiAqIGhpZ2gpICsgbG93ICsgY2xvc2UpIC8gNDtcbiAgfVxuXG4gIGNvbnN0IGRtUjEgPSB4ICsgKGhpZ2ggLSBsb3cpO1xuICBjb25zdCBkbVMxID0geCAtIChoaWdoIC0gbG93KTtcblxuICByZXR1cm4geyB4LCBkbVIxLCBkbVMxIH07XG59Il0sIm5hbWVzIjpbInlhaG9vRmluYW5jZSIsImZldGNoTWFya2V0RGF0YSIsInN5bWJvbCIsImRhaWx5RGF0YSIsImhpc3RvcmljYWwiLCJwZXJpb2QxIiwiRGF0ZSIsIm5vdyIsInBlcmlvZDIiLCJpbnRlcnZhbCIsImhvdXJseURhdGEiLCJkYWlseSIsImhvdXJseSIsImN1cnJlbnQiLCJsZW5ndGgiLCJlcnJvciIsImNvbnNvbGUiLCJjYWxjdWxhdGVTdGFuZGFyZFBpdm90cyIsImRhdGEiLCJoaWdoIiwibG93IiwiY2xvc2UiLCJwaXZvdCIsInIxIiwiczEiLCJyMiIsInMyIiwiY2FsY3VsYXRlRGVNYXJrUGl2b3RzIiwib3BlbiIsIngiLCJkbVIxIiwiZG1TMSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/market-data.ts\n");

/***/ }),

/***/ "(rsc)/./lib/redis.ts":
/*!**********************!*\
  !*** ./lib/redis.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRedisClient: () => (/* binding */ getRedisClient),\n/* harmony export */   getUserWatchlistKey: () => (/* binding */ getUserWatchlistKey),\n/* harmony export */   redisDel: () => (/* binding */ redisDel),\n/* harmony export */   redisGet: () => (/* binding */ redisGet),\n/* harmony export */   redisSet: () => (/* binding */ redisSet)\n/* harmony export */ });\n/* harmony import */ var _upstash_redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @upstash/redis */ \"(rsc)/./node_modules/@upstash/redis/nodejs.mjs\");\n\n// Create a Redis client with error handling and connection validation\nlet redisClient = null;\n// Initialize Redis client with retry logic\nfunction getRedisClient() {\n    if (redisClient) return redisClient;\n    const url = process.env.UPSTASH_REDIS_REST_URL;\n    const token = process.env.UPSTASH_REDIS_REST_TOKEN;\n    if (!url || !token) {\n        console.error('Redis environment variables are missing');\n        throw new Error('Redis configuration is incomplete');\n    }\n    try {\n        redisClient = new _upstash_redis__WEBPACK_IMPORTED_MODULE_0__.Redis({\n            url,\n            token,\n            retry: {\n                retries: 3,\n                backoff: (retryCount)=>Math.min(Math.exp(retryCount) * 50, 1000)\n            }\n        });\n        console.log('Redis client initialized successfully');\n        return redisClient;\n    } catch (error) {\n        console.error('Failed to initialize Redis client:', error);\n        throw new Error('Failed to connect to Redis');\n    }\n}\n// Wrapper function for Redis get with error handling\nasync function redisGet(key) {\n    try {\n        if (!key) {\n            console.error('Redis GET: Key is required');\n            return null;\n        }\n        const client = getRedisClient();\n        const data = await client.get(key);\n        // Add detailed logging for debugging\n        console.log(`Redis GET for key ${key}:`, {\n            dataType: typeof data,\n            isNull: data === null,\n            isObject: data !== null && typeof data === 'object',\n            isArray: Array.isArray(data),\n            valuePreview: data === null ? null : typeof data === 'object' ? JSON.stringify(data).substring(0, 100) + '...' : String(data).substring(0, 100) + '...'\n        });\n        // Handle different response types\n        if (data === null) {\n            return null;\n        } else if (typeof data === 'object') {\n            try {\n                // If Redis returns an object directly, stringify it\n                return JSON.stringify(data);\n            } catch (stringifyError) {\n                console.error(`Redis GET: Failed to stringify object for key ${key}:`, stringifyError);\n                return null;\n            }\n        } else if (typeof data === 'string') {\n            return data;\n        } else {\n            // Convert other types to string\n            return String(data);\n        }\n    } catch (error) {\n        console.error(`Redis GET error for key ${key}:`, error);\n        // Return null instead of throwing to prevent cascading failures\n        return null;\n    }\n}\n// Wrapper function for Redis set with error handling\nasync function redisSet(key, value) {\n    try {\n        if (!key) {\n            console.error('Redis SET: Key is required');\n            return false;\n        }\n        const client = getRedisClient();\n        // Log the value being set for debugging\n        console.log(`Redis SET for key ${key}:`, {\n            valueType: typeof value,\n            valuePreview: typeof value === 'string' ? value.substring(0, 100) + (value.length > 100 ? '...' : '') : 'non-string value'\n        });\n        await client.set(key, value);\n        return true;\n    } catch (error) {\n        console.error(`Redis SET error for key ${key}:`, error);\n        throw error;\n    }\n}\n// Wrapper function for Redis delete with error handling\nasync function redisDel(key) {\n    try {\n        const client = getRedisClient();\n        await client.del(key);\n    } catch (error) {\n        console.error(`Redis DEL error for key ${key}:`, error);\n        throw error;\n    }\n}\n// Helper function to generate user-specific watchlist key\nfunction getUserWatchlistKey(userId) {\n    if (!userId) throw new Error('User ID is required');\n    return `watchlist:${userId}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLE1BQU0sUUFBUSxFQUFDLElBQ3pEO1FBQ2Y7UUFFQSxNQUFNakIsT0FBT2tCLEdBQUcsQ0FBQ25CLEtBQUtnQjtRQUN0QixPQUFPO0lBQ1QsRUFBRSxPQUFPM0IsT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsQ0FBQyx3QkFBd0IsRUFBRVcsSUFBSSxDQUFDLENBQUMsRUFBRVg7UUFDakQsTUFBTUE7SUFDUjtBQUNGO0FBRUEsd0RBQXdEO0FBQ2pELGVBQWUrQixTQUFTcEIsR0FBVztJQUN4QyxJQUFJO1FBQ0YsTUFBTUMsU0FBU3BCO1FBQ2YsTUFBTW9CLE9BQU9vQixHQUFHLENBQUNyQjtJQUNuQixFQUFFLE9BQU9YLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLENBQUMsd0JBQXdCLEVBQUVXLElBQUksQ0FBQyxDQUFDLEVBQUVYO1FBQ2pELE1BQU1BO0lBQ1I7QUFDRjtBQUVBLDBEQUEwRDtBQUNuRCxTQUFTaUMsb0JBQW9CQyxNQUFjO0lBQ2hELElBQUksQ0FBQ0EsUUFBUSxNQUFNLElBQUlqQyxNQUFNO0lBQzdCLE9BQU8sQ0FBQyxVQUFVLEVBQUVpQyxRQUFRO0FBQzlCIiwic291cmNlcyI6WyIvVXNlcnMvc3RlZmZlbmdvdHRsZS9EZXNrdG9wL25leHRsZXZlbHRyYWRlcnMvbGliL3JlZGlzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZGlzIH0gZnJvbSAnQHVwc3Rhc2gvcmVkaXMnXG5cbi8vIENyZWF0ZSBhIFJlZGlzIGNsaWVudCB3aXRoIGVycm9yIGhhbmRsaW5nIGFuZCBjb25uZWN0aW9uIHZhbGlkYXRpb25cbmxldCByZWRpc0NsaWVudDogUmVkaXMgfCBudWxsID0gbnVsbFxuXG4vLyBJbml0aWFsaXplIFJlZGlzIGNsaWVudCB3aXRoIHJldHJ5IGxvZ2ljXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVkaXNDbGllbnQoKTogUmVkaXMge1xuICBpZiAocmVkaXNDbGllbnQpIHJldHVybiByZWRpc0NsaWVudFxuXG4gIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52LlVQU1RBU0hfUkVESVNfUkVTVF9VUkxcbiAgY29uc3QgdG9rZW4gPSBwcm9jZXNzLmVudi5VUFNUQVNIX1JFRElTX1JFU1RfVE9LRU5cblxuICBpZiAoIXVybCB8fCAhdG9rZW4pIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIG1pc3NpbmcnKVxuICAgIHRocm93IG5ldyBFcnJvcignUmVkaXMgY29uZmlndXJhdGlvbiBpcyBpbmNvbXBsZXRlJylcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmVkaXNDbGllbnQgPSBuZXcgUmVkaXMoe1xuICAgICAgdXJsLFxuICAgICAgdG9rZW4sXG4gICAgICByZXRyeToge1xuICAgICAgICByZXRyaWVzOiAzLFxuICAgICAgICBiYWNrb2ZmOiAocmV0cnlDb3VudCkgPT4gTWF0aC5taW4oTWF0aC5leHAocmV0cnlDb3VudCkgKiA1MCwgMTAwMClcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdSZWRpcyBjbGllbnQgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5JylcbiAgICByZXR1cm4gcmVkaXNDbGllbnRcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBSZWRpcyBjbGllbnQ6JywgZXJyb3IpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCB0byBSZWRpcycpXG4gIH1cbn1cblxuLy8gV3JhcHBlciBmdW5jdGlvbiBmb3IgUmVkaXMgZ2V0IHdpdGggZXJyb3IgaGFuZGxpbmdcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWRpc0dldChrZXk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGlmICgha2V5KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBHRVQ6IEtleSBpcyByZXF1aXJlZCcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNsaWVudCA9IGdldFJlZGlzQ2xpZW50KCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGNsaWVudC5nZXQoa2V5KTtcbiAgICBcbiAgICAvLyBBZGQgZGV0YWlsZWQgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG4gICAgY29uc29sZS5sb2coYFJlZGlzIEdFVCBmb3Iga2V5ICR7a2V5fTpgLCB7XG4gICAgICBkYXRhVHlwZTogdHlwZW9mIGRhdGEsXG4gICAgICBpc051bGw6IGRhdGEgPT09IG51bGwsXG4gICAgICBpc09iamVjdDogZGF0YSAhPT0gbnVsbCAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcsXG4gICAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5KGRhdGEpLFxuICAgICAgdmFsdWVQcmV2aWV3OiBkYXRhID09PSBudWxsID8gbnVsbCA6IFxuICAgICAgICAgICAgICAgICAgIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KGRhdGEpLnN1YnN0cmluZygwLCAxMDApICsgJy4uLicgOiBcbiAgICAgICAgICAgICAgICAgICBTdHJpbmcoZGF0YSkuc3Vic3RyaW5nKDAsIDEwMCkgKyAnLi4uJ1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcmVzcG9uc2UgdHlwZXNcbiAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIElmIFJlZGlzIHJldHVybnMgYW4gb2JqZWN0IGRpcmVjdGx5LCBzdHJpbmdpZnkgaXRcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgfSBjYXRjaCAoc3RyaW5naWZ5RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgUmVkaXMgR0VUOiBGYWlsZWQgdG8gc3RyaW5naWZ5IG9iamVjdCBmb3Iga2V5ICR7a2V5fTpgLCBzdHJpbmdpZnlFcnJvcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29udmVydCBvdGhlciB0eXBlcyB0byBzdHJpbmdcbiAgICAgIHJldHVybiBTdHJpbmcoZGF0YSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYFJlZGlzIEdFVCBlcnJvciBmb3Iga2V5ICR7a2V5fTpgLCBlcnJvcik7XG4gICAgLy8gUmV0dXJuIG51bGwgaW5zdGVhZCBvZiB0aHJvd2luZyB0byBwcmV2ZW50IGNhc2NhZGluZyBmYWlsdXJlc1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIFdyYXBwZXIgZnVuY3Rpb24gZm9yIFJlZGlzIHNldCB3aXRoIGVycm9yIGhhbmRsaW5nXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVkaXNTZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgY29uc29sZS5lcnJvcignUmVkaXMgU0VUOiBLZXkgaXMgcmVxdWlyZWQnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY2xpZW50ID0gZ2V0UmVkaXNDbGllbnQoKTtcbiAgICBcbiAgICAvLyBMb2cgdGhlIHZhbHVlIGJlaW5nIHNldCBmb3IgZGVidWdnaW5nXG4gICAgY29uc29sZS5sb2coYFJlZGlzIFNFVCBmb3Iga2V5ICR7a2V5fTpgLCB7XG4gICAgICB2YWx1ZVR5cGU6IHR5cGVvZiB2YWx1ZSxcbiAgICAgIHZhbHVlUHJldmlldzogdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IFxuICAgICAgICAgICAgICAgICAgIHZhbHVlLnN1YnN0cmluZygwLCAxMDApICsgKHZhbHVlLmxlbmd0aCA+IDEwMCA/ICcuLi4nIDogJycpIDogXG4gICAgICAgICAgICAgICAgICAgJ25vbi1zdHJpbmcgdmFsdWUnXG4gICAgfSk7XG4gICAgXG4gICAgYXdhaXQgY2xpZW50LnNldChrZXksIHZhbHVlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBSZWRpcyBTRVQgZXJyb3IgZm9yIGtleSAke2tleX06YCwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIFdyYXBwZXIgZnVuY3Rpb24gZm9yIFJlZGlzIGRlbGV0ZSB3aXRoIGVycm9yIGhhbmRsaW5nXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVkaXNEZWwoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjbGllbnQgPSBnZXRSZWRpc0NsaWVudCgpXG4gICAgYXdhaXQgY2xpZW50LmRlbChrZXkpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgUmVkaXMgREVMIGVycm9yIGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHVzZXItc3BlY2lmaWMgd2F0Y2hsaXN0IGtleVxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJXYXRjaGxpc3RLZXkodXNlcklkOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXVzZXJJZCkgdGhyb3cgbmV3IEVycm9yKCdVc2VyIElEIGlzIHJlcXVpcmVkJylcbiAgcmV0dXJuIGB3YXRjaGxpc3Q6JHt1c2VySWR9YFxufVxuIl0sIm5hbWVzIjpbIlJlZGlzIiwicmVkaXNDbGllbnQiLCJnZXRSZWRpc0NsaWVudCIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJVUFNUQVNIX1JFRElTX1JFU1RfVVJMIiwidG9rZW4iLCJVUFNUQVNIX1JFRElTX1JFU1RfVE9LRU4iLCJjb25zb2xlIiwiZXJyb3IiLCJFcnJvciIsInJldHJ5IiwicmV0cmllcyIsImJhY2tvZmYiLCJyZXRyeUNvdW50IiwiTWF0aCIsIm1pbiIsImV4cCIsImxvZyIsInJlZGlzR2V0Iiwia2V5IiwiY2xpZW50IiwiZGF0YSIsImdldCIsImRhdGFUeXBlIiwiaXNOdWxsIiwiaXNPYmplY3QiLCJpc0FycmF5IiwiQXJyYXkiLCJ2YWx1ZVByZXZpZXciLCJKU09OIiwic3RyaW5naWZ5Iiwic3Vic3RyaW5nIiwiU3RyaW5nIiwic3RyaW5naWZ5RXJyb3IiLCJyZWRpc1NldCIsInZhbHVlIiwidmFsdWVUeXBlIiwibGVuZ3RoIiwic2V0IiwicmVkaXNEZWwiLCJkZWwiLCJnZXRVc2VyV2F0Y2hsaXN0S2V5IiwidXNlcklkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/redis.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmarket-data%2Fscan%2Froute&page=%2Fapi%2Fmarket-data%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmarket-data%2Fscan%2Froute.ts&appDir=%2FUsers%2Fsteffengottle%2FDesktop%2Fnextleveltraders%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsteffengottle%2FDesktop%2Fnextleveltraders&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmarket-data%2Fscan%2Froute&page=%2Fapi%2Fmarket-data%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmarket-data%2Fscan%2Froute.ts&appDir=%2FUsers%2Fsteffengottle%2FDesktop%2Fnextleveltraders%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsteffengottle%2FDesktop%2Fnextleveltraders&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_steffengottle_Desktop_nextleveltraders_app_api_market_data_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/market-data/scan/route.ts */ \"(rsc)/./app/api/market-data/scan/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/market-data/scan/route\",\n        pathname: \"/api/market-data/scan\",\n        filename: \"route\",\n        bundlePath: \"app/api/market-data/scan/route\"\n    },\n    resolvedPagePath: \"/Users/steffengottle/Desktop/nextleveltraders/app/api/market-data/scan/route.ts\",\n    nextConfigOutput,\n    userland: _Users_steffengottle_Desktop_nextleveltraders_app_api_market_data_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZtYXJrZXQtZGF0YSUyRnNjYW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm1hcmtldC1kYXRhJTJGc2NhbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm1hcmtldC1kYXRhJTJGc2NhbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN0ZWZmZW5nb3R0bGUlMkZEZXNrdG9wJTJGbmV4dGxldmVsdHJhZGVycyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZzdGVmZmVuZ290dGxlJTJGRGVza3RvcCUyRm5leHRsZXZlbHRyYWRlcnMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQytCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc3RlZmZlbmdvdHRsZS9EZXNrdG9wL25leHRsZXZlbHRyYWRlcnMvYXBwL2FwaS9tYXJrZXQtZGF0YS9zY2FuL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9tYXJrZXQtZGF0YS9zY2FuL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWFya2V0LWRhdGEvc2NhblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbWFya2V0LWRhdGEvc2Nhbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9zdGVmZmVuZ290dGxlL0Rlc2t0b3AvbmV4dGxldmVsdHJhZGVycy9hcHAvYXBpL21hcmtldC1kYXRhL3NjYW4vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmarket-data%2Fscan%2Froute&page=%2Fapi%2Fmarket-data%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmarket-data%2Fscan%2Froute.ts&appDir=%2FUsers%2Fsteffengottle%2FDesktop%2Fnextleveltraders%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsteffengottle%2FDesktop%2Fnextleveltraders&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/crypto-js","vendor-chunks/yahoo-finance2","vendor-chunks/tough-cookie","vendor-chunks/@upstash","vendor-chunks/psl","vendor-chunks/url-parse","vendor-chunks/requires-port","vendor-chunks/querystringify","vendor-chunks/punycode"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmarket-data%2Fscan%2Froute&page=%2Fapi%2Fmarket-data%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmarket-data%2Fscan%2Froute.ts&appDir=%2FUsers%2Fsteffengottle%2FDesktop%2Fnextleveltraders%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsteffengottle%2FDesktop%2Fnextleveltraders&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();